<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SB</title>
</head>
<body style="padding: 16px; text-align: center;">
    <div id="target" style="height: 128px; width: 128px; border: 1px solid black; border-radius: 8px; display: inline-block;"></div>

    <form name="configForm" onsubmit="event.preventDefault(); setConfig(event)">
        <input id="url" required type="text" name="url" placeholder="db url">
        <input id="key" required type="text" name="key" placeholder="key">
        <button>Set Config</button>
    </form>

    <form onsubmit="event.preventDefault(); handleLogin(event);" style="margin-top: 16px;">
        <input type="email" name="email" placeholder="email">
        <input type="password" name="password" placeholder="password">
        <button>Login</button>
    </form>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="./configForm.js"></script>

    <script>
        async function signIn(email, password) {
            const { data, error } = await sb.auth.signInWithPassword({
                email,
                password
            })

            if (data) {
                setBgColor();
            }   
        }

        function handleLogin(e) {
            signIn(e.target.email.value, e.target.password.value);
        }
    </script>
</body>
</html>